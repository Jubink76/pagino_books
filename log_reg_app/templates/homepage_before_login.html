{% extends 'base.html' %}

{% load static %}
{% block css_link %}
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="{% static 'user/js/sweetAlert.js' %}"></script>
{% endblock %}

{% block content %}
    <main>
        <div class="flex">
    <!-------------------------------Side bar  section ------------------------>
            <div class="w-64 flex-shrink-0 mt-4 mx-4">
                <!-- Categories Section -->
                <div class="bg-yellow-400 p-4 rounded-t-lg">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <h2 class="text-lg font-semibold">Categories</h2>
                    </div>
                </div>
                
                <div class="bg-white shadow-md">
                {% for category in categories %}
                    {% if category.is_available %}
                    <a href="{% url 'single_category' category.id %}" class="flex items-center p-4 border-b hover:bg-gray-50">
                        <svg class="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                        </svg>
                        <span class="text-gray-700">{{ category.category_name }}</span>
                        <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M9 5l7 7-7 7"/>
                        </svg>
                    </a>
                    {% endif %}
                {% endfor %}
                </div>
                <!-- Deal of the day Section -->
                <div class="mt-8">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold">Deal of the day</h2>
                        <div class="flex space-x-2">
                            <button id="prev-button" class="p-1 bg-gray-200 rounded-full">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M15 19l-7-7 7-7" />
                                </svg>
                            </button>
                            <button id="next-button" class="p-1 bg-gray-200 rounded-full">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md w-64">
                        <div class="relative">
                            <img id="product-image" src="{{ product.images.first.image.url }}" alt="Deal Product" class="w-full h-96 object-cover rounded-t-lg">
                            <div id="product-discount" class="absolute top-2 right-2 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs">
                                {{ product.discount_percentage }}% OFF
                            </div>
                        </div>
                        <div class="p-3">
                            <!-- Timer Section -->
                            <div class="flex justify-between space-x-2 mb-2">
                                <div class="text-center px-1.5 py-0.5 bg-gray-100 rounded">
                                    <div id="timer-days" class="font-semibold text-sm">000</div>
                                    <div class="text-xs text-gray-600">DAYS</div>
                                </div>
                                <div class="text-center px-1.5 py-0.5 bg-gray-100 rounded">
                                    <div id="timer-hours" class="font-semibold text-sm">00</div>
                                    <div class="text-xs text-gray-600">HRS</div>
                                </div>
                                <div class="text-center px-1.5 py-0.5 bg-gray-100 rounded">
                                    <div id="timer-minutes" class="font-semibold text-sm">00</div>
                                    <div class="text-xs text-gray-600">MINS</div>
                                </div>
                                <div class="text-center px-1.5 py-0.5 bg-gray-100 rounded">
                                    <div id="timer-seconds" class="font-semibold text-sm">00</div>
                                    <div class="text-xs text-gray-600">SEC</div>
                                </div>
                            </div>
                
                            <!-- Product Title -->
                            <h3 id="product-name" class="font-semibold text-sm mb-1">{{ product.name }}</h3>
                
                            <!-- Star Rating -->
                            <div class="flex items-center mb-1">
                                
                                <svg class="w-3 h-3 text-yellow-400 fill-current" viewBox="0 0 20 20">
                                    <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z" />
                                </svg>
     
                                <svg class="w-3 h-3 text-gray-300 fill-current" viewBox="0 0 20 20">
                                    <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z" />
                                </svg>

                            </div>
                
                            <!-- Price -->
                            <div class="flex items-center justify-between mb-2">
                                <span id="product-price" class="text-blue-600 font-bold text-sm">${{ product.price }}</span>
                                <span class="text-gray-500 line-through text-xs">${{ product.original_price }}</span>
                            </div>
                
                            <!-- Buttons -->
                            <div class="flex space-x-2">
                                <button class="w-8 h-8 bg-yellow-400 text-white p-1.5 rounded">
                                    <svg class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                                    </svg>
                                </button>
                                <a href=""><button id="add-to-cart" class="flex-1 bg-blue-600 text-white py-1.5 px-3 rounded text-sm">ADD TO CART</button></a>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- Filters Section -->
                <div class="mt-8">
                    <h2 class="text-lg font-semibold mb-4">Filters</h2>
                    <div class="flex flex-wrap gap-2 mb-6">
                        <button class="px-4 py-2 bg-gray-100 rounded-md hover:bg-gray-200">Language</button>
                        <button class="px-4 py-2 bg-blue-600 text-white rounded-md">Authors</button>
                        <button class="px-4 py-2 bg-gray-100 rounded-md hover:bg-gray-200">Category</button>
                        <button class="px-4 py-2 bg-gray-100 rounded-md hover:bg-gray-200">Price</button>
                    </div>
                </div>
            
                <!-- Special Deals Section -->
                <div class="mt-8">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold">Special Deals</h2>
                        <div class="flex space-x-2">
                            <button class="p-1 bg-gray-200 rounded-full">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M15 19l-7-7 7-7"/>
                                </svg>
                            </button>
                            <button class="p-1 bg-gray-200 rounded-full">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <a href="#" class="flex items-center space-x-4 bg-white p-2 rounded-lg shadow-md">
                            <img src="{% static '/api/placeholder/120/160' %}" alt="Product" class="w-[120px] h-[160px] object-cover rounded">
                            <div>
                                <h3 class="font-semibold">Floral Print Shirt</h3>
                                <div class="flex items-center">
                                    <svg class="w-4 h-4 text-yellow-400 fill-current" viewBox="0 0 20 20">
                                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                                    </svg>
                                    <svg class="w-4 h-4 text-yellow-400 fill-current" viewBox="0 0 20 20">
                                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                                    </svg>
                                    <svg class="w-4 h-4 text-yellow-400 fill-current" viewBox="0 0 20 20">
                                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                                    </svg>
                                    <svg class="w-4 h-4 text-yellow-400 fill-current" viewBox="0 0 20 20">
                                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                                    </svg>
                                    <svg class="w-4 h-4 text-gray-300 fill-current" viewBox="0 0 20 20">
                                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                                    </svg>
                                </div>
                                <span class="text-green-600 font-bold">$450.99</span>
                            </div>
                        </a>
                    </div>
                </div>
            
                <!-- Testimonial -->
                <div class="mt-8 bg-white rounded-lg shadow-md p-6 text-center">
                    <img src="{% static '/api/placeholder/100/100' %}" alt="John Doe" class="w-20 h-20 rounded-full mx-auto mb-4">
                    <p class="text-gray-600 mb-4">"Vtae sodales aliq uam morbi non sem lacus port mollis. Nunc condime tum metus eud molest sed consectetuer sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat."</p>
                    <h3 class="font-semibold">John Doe</h3>
                    <p class="text-gray-600 text-sm">Abc Company</p>
                    <div class="flex justify-center space-x-2 mt-4">
                        <div class="w-2 h-2 rounded-full bg-blue-600"></div>
                        <div class="w-2 h-2 rounded-full bg-gray-300"></div>
                        <div class="w-2 h-2 rounded-full bg-gray-300"></div>
                    </div>
                </div>
                
            </div>
            <!---------------------------------------------sidebar completd ----------------------------------------->

            <div class = "flex-1">
<!-------------------------------Banner section ------------------------>
                <div class=" mx-4 mt-4">
                    <div class="relative overflow-hidden rounded-lg h-[300px]">
                        <!-- Gradient overlay -->
                        <div class="absolute inset-0 bg-gradient-to-r from-orange-400/60 to-cyan-500/30"></div>
                        
                        <!-- Banner image -->
                        <img 
                            src="{% static 'user/images/logo/banner1.jpg' %}" 
                            alt="New Collections Banner" 
                            class="w-full h-full object-cover"
                        />
                        
                        <!-- Content overlay -->
                        <div class="absolute inset-0 flex flex-col justify-center px-8">
                            <span class="text-gray-100 text-lg mb-2">MUST READ</span>
                            <h1 class="text-black text-5xl font-bold mb-2">New Collections</h1>
                            <p class="text-gray-800 text-xl mb-6">From our great authors</p>
                            <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md w-fit transition-colors">
                                SHOP NOW
                            </button>
                        </div>
                    </div>
                </div>
<!------------------------------- Featured products ------------------------>
                    <div class="p-8">
                        <!-- Featured Books Header -->
                        <div class="flex justify-between items-center mb-8">
                            <h1 class="text-2xl font-bold">Featured Books</h1>
                            <div class="flex space-x-4">
                                <button class="text-gray-600 hover:text-gray-900">ALL</button>
                                <button class="text-gray-600 hover:text-gray-900">MUST READ</button>
                                <button class="text-gray-600 hover:text-gray-900">INSPIRING</button>
                                <button class="text-gray-600 hover:text-gray-900">THRILLING</button>
                            </div>
                        </div>
                        <!-- Product Grid - Modified for 5 cards -->
                        <div class="flex space-x-3">
                            {% for book in books|slice:":5" %}
                            <!-- Product Card -->
                            <div class="w-1/5 bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 relative group 
                                {% if not book.is_available %}opacity-50{% endif %}">
                                <!-- Image Section -->
                                <div class="relative">
                                    <a href="{% url 'single_detail' book.id %}">
                                        <img src="{{ book.images.first.image.url }}" alt="{{ book.book_name }}" class="w-full h-96 object-cover" />
                                        {% if not book.is_available %}
                                        <div class="absolute inset-0 bg-gradient-to-b from-gray-400 to-gray-700 opacity-70"></div>
                                        <span class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-sm">Out of Stock</span>
                                        {% elif book.additional_offer_applied %}
                                            <!-- Tag for offers -->
                                            <span 
                                                class="absolute top-2 right-2 bg-gradient-to-r from-pink-500 via-yellow-400 to-red-500 text-black px-6 py-2 rounded-full text-xs font-bold shadow-lg transform transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-2xl hover:ring-4 hover:ring-pink-300 flex justify-center items-center text-center w-auto max-w-full break-words whitespace-normal animate-bounce"
                                                style="line-height: 1.2; max-width: 80px; word-wrap: break-word;">
                                                <span class="block">{{ book.applied_offer.offer_name }}</span>
                                            </span>
                                        {% else %}
                                        <span class="absolute top-2 right-2 bg-blue-400 text-white px-2 py-1 rounded-full text-sm">NEW</span>
                                        {% endif %}
                                    </a>
                                </div>
                            
                                <!-- Content Section -->
                                <div class="p-4 relative">
                                    <h3 class="font-semibold text-lg mb-2">{{ book.book_name }}</h3>
                                    <p class="text-gray-600 mb-2">{{ book.author }}</p>
                                    <div class="flex items-center mb-2">
                                        <div class="flex text-yellow-400">★★★★☆</div>
                                    </div>
                            
                                    <!-- Price Section -->
                                    <div class="flex justify-between items-center relative">
                                        <span class="text-green-600 font-bold">₹{{ book.offer_price }}</span>
                                        <span class="text-red-400 line-through">₹{{ book.base_price }}</span>
                            
                                        <!-- Floating Icons -->
                                        <div class="absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                            <form class="m-0 z-20">
                                                {% csrf_token %}
                                                <button type="submit"
                                                    class="add-to-cart-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                    {% if not book.is_available %}
                                                        bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                    {% else %}
                                                        bg-yellow-400 text-black hover:bg-yellow-500
                                                    {% endif %}"
                                                    data-url="{% url 'add_to_cart' book.id %}" 
                                                    {% if not book.is_available %} disabled {% endif %}>
                                                    <i class="fa fa-shopping-cart"></i>
                                                </button>
                                            </form>
                                        
                                            <form class="m-0 z-20">
                                                {% csrf_token %}
                                                <button type="submit"
                                                    class="add-to-wishlist-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                    {% if not book.is_available %}
                                                        bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                    {% else %}
                                                        bg-yellow-400 text-black hover:bg-yellow-500
                                                    {% endif %}"
                                                    data-url="{% url 'add_to_whishlist' book.id %}" 
                                                    {% if not book.is_available %} disabled {% endif %}>
                                                    <i class="fa fa-heart"></i>
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>                        
                        
                    </div>
                <!-----------------------authors list and banners ------------------------------------------------>
                <div class="flex space-x-4 px-8 mb-8">
                    <div class="w-1/3 h-32 relative rounded-lg overflow-hidden bg-cyan-100">
                        <img 
                            src="{% static 'user/images/logo/slider1.jpeg' %}" 
                            alt="Reading Banner 1" 
                            class="w-full h-full object-cover"
                        />
                    </div>
                    <div class="w-1/3 h-32 relative rounded-lg overflow-hidden bg-emerald-100">
                        <img 
                        src="{% static 'user/images/logo/slider2.jpeg' %}" 
                        alt="Reading Banner 1" 
                        class="w-full h-full object-cover"
                        />
                    </div>
                    <div class="w-1/3 h-32 relative rounded-lg overflow-hidden bg-blue-100">
                        <img 
                        src="{% static 'user/images/logo/slider3.jpeg' %}" 
                        alt="Reading Banner 1" 
                        class="w-full h-full object-cover"
                        />
                    </div>
                </div>
                
                <!-- Authors and Products Section -->
                <div class="px-8">
                    <div class="flex space-x-8">
                        <!-- Authors List Section -->
                        <div class="w-64">
                            <div class="bg-white rounded-lg shadow-md p-4">
                                <div class="flex items-center justify-between mb-4 sticky top-0 bg-white z-10">
                                    <h2 class="text-xl font-semibold">Book by Authors</h2>
                                    <div class="flex space-x-1">
                                        <button class="p-1 bg-gray-200 rounded-full hover:bg-gray-300">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path d="M15 19l-7-7 7-7"/>
                                            </svg>
                                        </button>
                                        <button class="p-1 bg-gray-200 rounded-full hover:bg-gray-300">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path d="M9 5l7 7-7 7"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="h-[448px] overflow-y-auto">
                                    <!-- h-[448px] matches product card height (h-96 image + p-4 padding + content height) -->
                                    <ul class="space-y-3">
                                        {% for author in books %}
                                                <li class="text-gray-600 hover:text-gray-900 cursor-pointer transition-colors duration-200 p-2 hover:bg-gray-50 rounded">
                                                    {{ author.author }}
                                                </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                
                        <!-- Products Grid -->
                        <div class="flex-1">
                            <div class="grid grid-cols-4 gap-4">
                                {% for book in books|slice:"5:9" %}
                                <!-- Product Card -->
                                <div class="bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 relative group 
                                    {% if not book.is_available %}opacity-50{% endif %}">
                                    <!-- Image Section -->
                                    <div class="relative">
                                        <a href="{% url 'single_detail' book.id %}">
                                            <img src="{{ book.images.first.image.url }}" alt="{{ book.book_name }}" class="w-full h-96 object-cover" />
                                            {% if not book.is_available %}
                                            <div class="absolute inset-0 bg-gradient-to-b from-gray-400 to-gray-700 opacity-70"></div>
                                            <span class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-sm">Out of Stock</span>
                                            {% elif book.additional_offer_applied %}
                                            <!-- Tag for offers -->
                                            <span 
                                                class="absolute top-2 right-2 bg-gradient-to-r from-pink-500 via-yellow-400 to-red-500 text-black px-6 py-2 rounded-full text-xs font-bold shadow-lg transform transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-2xl hover:ring-4 hover:ring-pink-300 flex justify-center items-center text-center w-auto max-w-full break-words whitespace-normal animate-bounce"
                                                style="line-height: 1.2; max-width: 80px; word-wrap: break-word;">
                                                <span class="block">{{ book.applied_offer.offer_name }}</span>
                                            </span>
                                            {% else %}
                                                {% if forloop.counter == 1 %}
                                                    <span class="absolute top-2 right-2 bg-red-400 text-white px-2 py-1 rounded-full text-sm">HOT</span>
                                                {% elif forloop.counter == 2 %}
                                                    <span class="absolute top-2 right-2 bg-blue-400 text-white px-2 py-1 rounded-full text-sm">NEW</span>
                                                {% elif forloop.counter == 3 %}
                                                    <span class="absolute top-2 right-2 bg-yellow-400 text-white px-2 py-1 rounded-full text-sm">SALE</span>
                                                {% else %}
                                                    <span class="absolute top-2 right-2 bg-red-400 text-white px-2 py-1 rounded-full text-sm">HOT</span>
                                                {% endif %}
                                            {% endif %}
                                        </a>
                                    </div>
                                
                                    <!-- Content Section -->
                                    <div class="p-4 relative">
                                        <h3 class="font-semibold text-lg mb-2">{{ book.book_name }}</h3>
                                        <p class="text-gray-600 mb-2">{{ book.author }}</p>
                                        <div class="flex text-yellow-400 mb-2">★★★★☆</div>
                                
                                        <!-- Price and Floating Icons Section -->
                                        <div class="flex justify-between items-center relative">
                                            <span class="text-green-600 font-bold">₹{{ book.offer_price }}</span>
                                            <span class="text-red-400 line-through">₹{{ book.base_price }}</span>
                                
                                            <!-- Floating Icons -->
                                            <div class="absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                                <form class="m-0 z-20">
                                                    {% csrf_token %}
                                                    <button type="submit"
                                                        class="add-to-cart-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                        {% if not book.is_available %}
                                                            bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                        {% else %}
                                                            bg-yellow-400 text-black hover:bg-yellow-500
                                                        {% endif %}"
                                                        data-url="{% url 'add_to_cart' book.id %}" 
                                                        {% if not book.is_available %} disabled {% endif %}>
                                                        <i class="fa fa-shopping-cart"></i>
                                                    </button>
                                                </form>
                                            
                                                <form class="m-0 z-20">
                                                    {% csrf_token %}
                                                    <button type="submit"
                                                        class="add-to-wishlist-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                        {% if not book.is_available %}
                                                            bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                        {% else %}
                                                            bg-yellow-400 text-black hover:bg-yellow-500
                                                        {% endif %}"
                                                        data-url="{% url 'add_to_whishlist' book.id %}" 
                                                        {% if not book.is_available %} disabled {% endif %}>
                                                        <i class="fa fa-heart"></i>
                                                    </button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>                            
                            
                        </div>
                    </div>
                </div>
                <!--------------------------------blog section -------------------------------------->
                <div class="flex gap-4 w-full mt-4">
                    <!-- Large Banner -->
                    <div class="w-2/3 bg-blue-100 rounded-lg p-6 relative overflow-hidden">
                        <div class="w-full h-full">
                            <img 
                                src="{% static 'user/images/logo/badge.jpg' %}" 
                                alt="Book illustration" 
                                class="w-full h-full object-cover rounded-lg"
                            />
                        </div>
                    </div>
                    
                    <!-- Small Banner -->
                    <div class="w-1/3 bg-purple-600 rounded-lg p-6 relative overflow-hidden"> <!-- Removed h-48 -->
                        <div class="absolute top-0 left-0 bg-red-500 text-white px-4 py-1 rounded-br-lg">NEW</div>
                        <div class="w-full h-full">
                            <img 
                                src="{% static 'user/images/logo/badge2.jpeg' %}" 
                                alt="Rocket book illustration" 
                                class="w-full h-full object-cover rounded-lg"
                            />
                        </div>
                    </div>
                </div>
                <div class="space-y-4 mt-4">
                    <h2 class="text-2xl font-bold">Latest from Blog</h2>
                    
                    <!-- Blog Cards Container -->
                    <div class="grid grid-cols-3 gap-6">
                        <!-- Blog Card 1 -->
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <img src="{% static 'user/images/logo/blog1.jpg' %}" alt="Blog post image" class="w-full h-48 object-cover"/>
                            <div class="p-4">
                                <h3 class="text-xl font-semibold mb-2">Voluptatem accusantium doloremque laudantium</h3>
                                <div class="text-gray-500 text-sm mb-2">By Jone Doe | 21 March 2016</div>
                                <p class="text-gray-600">Sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.</p>
                            </div>
                        </div>
            
                        <!-- Blog Card 2 -->
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <img src="{% static 'user/images/logo/blog2.png' %}" alt="Blog post image" class="w-full h-48 object-cover"/>
                            <div class="p-4">
                                <h3 class="text-xl font-semibold mb-2">Dolorem eum fugiat quo voluptas nulla pariatur</h3>
                                <div class="text-gray-500 text-sm mb-2">By Saraha Smith | 21 March 2016</div>
                                <p class="text-gray-600">Sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.</p>
                            </div>
                        </div>
            
                        <!-- Blog Card 3 -->
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <img src="{% static 'user/images/logo/blog3.png' %}" alt="Blog post image" class="w-full h-48 object-cover"/>
                            <div class="p-4">
                                <h3 class="text-xl font-semibold mb-2">Dolorem eum fugiat quo voluptas nulla pariatur</h3>
                                <div class="text-gray-500 text-sm mb-2">By Saraha Smith | 21 March 2016</div>
                                <p class="text-gray-600">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!------------------------------------last products --------------------------------------->
                <div class="p-8">
                    <!-- Featured Books Header -->
                    <div class="flex justify-between items-center mb-8">
                        <h1 class="text-2xl font-bold">Featured Books</h1>
                        <div class="flex space-x-4">
                            <button class="text-gray-600 hover:text-gray-900">ALL</button>
                            <button class="text-gray-600 hover:text-gray-900">MUST READ</button>
                            <button class="text-gray-600 hover:text-gray-900">INSPIRING</button>
                            <button class="text-gray-600 hover:text-gray-900">THRILLING</button>
                        </div>
                    </div>
                
                    <!-- Product Grid - Modified for 5 cards -->
                    <div class="flex space-x-3">
                        {% for book in books|slice:"9:14" %}
                        <!-- Product Card -->
                        <div class="w-1/5 bg-white rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 relative group 
                            {% if not book.is_available %}opacity-50{% endif %}">
                            <!-- Image Section -->
                            <div class="relative">
                                <a href="{% url 'single_detail' book.id %}">
                                    <img src="{{ book.images.first.image.url }}" alt="{{ book.book_name }}" class="w-full h-96 object-cover" />
                                    {% if not book.is_available %}
                                    <div class="absolute inset-0 bg-gradient-to-b from-gray-400 to-gray-700 opacity-70"></div>
                                    <span class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-sm">Out of Stock</span>
                                    {% elif book.additional_offer_applied %}
                                            <!-- Tag for offers -->
                                            <span 
                                                class="absolute top-2 right-2 bg-gradient-to-r from-pink-500 via-yellow-400 to-red-500 text-black px-6 py-2 rounded-full text-xs font-bold shadow-lg transform transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-2xl hover:ring-4 hover:ring-pink-300 flex justify-center items-center text-center w-auto max-w-full break-words whitespace-normal animate-bounce"
                                                style="line-height: 1.2; max-width: 80px; word-wrap: break-word;">
                                                <span class="block">{{ book.applied_offer.offer_name }}</span>
                                            </span>
                                    {% else %}
                                    <span class="absolute top-2 right-2 bg-blue-400 text-white px-2 py-1 rounded-full text-sm">NEW</span>
                                    {% endif %}
                                </a>
                            </div>
                        
                            <!-- Content Section -->
                            <div class="p-4 relative">
                                <h3 class="font-semibold text-lg mb-2">{{ book.book_name }}</h3>
                                <p class="text-gray-600 mb-2">{{ book.author }}</p>
                                <div class="flex items-center mb-2">
                                    <div class="flex text-yellow-400">★★★★☆</div>
                                </div>
                        
                                <!-- Price Section -->
                                <div class="flex justify-between items-center relative">
                                    <span class="text-green-600 font-bold">₹{{ book.offer_price }}</span>
                                    <span class="text-red-400 line-through">₹{{ book.base_price }}</span>
                        
                                    <!-- Floating Icons -->
                                    <div class="absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                        <form class="m-0 z-20">
                                            {% csrf_token %}
                                            <button type="submit"
                                                class="add-to-cart-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                {% if not book.is_available %}
                                                    bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                {% else %}
                                                    bg-yellow-400 text-black hover:bg-yellow-500
                                                {% endif %}"
                                                data-url="{% url 'add_to_cart' book.id %}" 
                                                {% if not book.is_available %} disabled {% endif %}>
                                                <i class="fa fa-shopping-cart"></i>
                                            </button>
                                        </form>
                                    
                                        <form class="m-0 z-20">
                                            {% csrf_token %}
                                            <button type="submit"
                                                class="add-to-wishlist-btn w-10 h-10 flex justify-center items-center rounded-full shadow-md 
                                                {% if not book.is_available %}
                                                    bg-gradient-to-r from-gray-400 to-gray-600 text-gray-300 cursor-not-allowed
                                                {% else %}
                                                    bg-yellow-400 text-black hover:bg-yellow-500
                                                {% endif %}"
                                                data-url="{% url 'add_to_whishlist' book.id %}" 
                                                {% if not book.is_available %} disabled {% endif %}>
                                                <i class="fa fa-heart"></i>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>                    
                    
                </div>
            </div>
        </div>
    </main>
{% endblock %}
<!-------------------------------Footer section ------------------------>
{% block script %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{% static 'user/js/deal_of_the_day_timer.js' %}"></script>
{% endblock %}